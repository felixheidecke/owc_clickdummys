<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Share - Clickdummy
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300">
        <link rel="stylesheet" href="../lib/uikit/css/uikit.css">
        <link rel="stylesheet" href="../assets/css/style.css">
    </head>
    <body>
        <main id="app">
            <div class="share" id="share">
                <div class="uk-grid-small uk-flex-middle" uk-grid="uk-grid">
                    <div class="uk-width-auto"><span uk-icon="icon: folder; ratio: 2"></span></div>
                    <div class="uk-width-expand">
                        <h3 class="uk-card-title uk-margin-remove-bottom">My little Pony</h3>
                        <p class="uk-margin-remove-top"><span class="uk-text-meta">Size:&nbsp;</span><span class="uk-text-small">132 MB</span><span class="uk-text-meta">, &nbsp;created:&nbsp;</span><span class="uk-text-small">10 days ago</span></p>
                    </div>
                </div>
                <ul class="uk-tab uk-child-width-expand">
                    <li class="share--tab"><a href="#">Activities</a></li>
                    <li class="share--tab"><a href="#">Comments</a></li>
                    <li class="share--tab"><a href="#">Sharing</a></li>
                </ul>
                <div class="uk-grid">
                    <div class="uk-width-expand">
                        <button class="uk-button uk-button-primary uk-button-small uk-align-right uk-margin" uk-toggle="target: #add-modal">Add public link</button>
                    </div>
                </div>
                <div class="uk-flex uk-flex-column-reverse uk-margin">
                    <publink v-for="share in shares" :link="share"></publink>
                </div>
                <modal-new></modal-new>
                <!--modal-edit()-->
            </div>
            <script type="text/x-template" id="modal-new">
                <div id="add-modal" uk-modal="uk-modal">
                    <div class="uk-modal-dialog">
                        <div class="uk-modal-header">
                            <h3 class="uk-h3">Add new link</h3>
                        </div>
                        <div class="uk-modal-body">
                            <fieldset class="uk-fieldset">
                                <div class="uk-form-controls">
                                    <label>
                                        <input class="uk-checkbox" type="checkbox" v-model="rw"/>&nbsp;&nbsp;Allow uploads
                                    </label>
                                </div>
                                <div class="uk-margin">
                                    <label class="uk-form-label" for="password">Password</label>
                                    <div class="uk-inline uk-width-1-1"><span class="uk-form-icon uk-form-icon-flip" uk-icon="icon: lock"></span>
                                        <input class="uk-input" v-model.lazy="password" type="password" placeholder="(optional)"/>
                                    </div>
                                </div>
                                <div class="uk-margin">
                                    <label class="uk-form-label" for="expiration">Expiration date<em>*</em></label>
                                    <div class="uk-inline uk-inline uk-width-1-1"><span class="uk-form-icon uk-form-icon-flip" uk-icon="icon: calendar"></span>
                                        <input class="uk-input" v-model.lazy="expires" type="date" placeholder="dd.mm.yyyy" required="required"/>
                                    </div>
                                </div>
                                <div class="uk-margin">
                                    <label class="uk-form-label" for="mail-recipients">Send to</label>
                                    <div class="uk-inline uk-inline uk-width-1-1"><span class="uk-form-icon uk-form-icon-flip" uk-icon="icon: mail"></span>
                                        <input class="uk-input" type="mail" name="mail-recipients" v-model="mail.recipients" placeholder="max@mustermann.de" required="required"/>
                                    </div>
                                    <p class="uk-text-small uk-margin-small-top">Use space to separate multiple mail-addresses.</p>
                                </div>
                                <div class="uk-margin uk-animation-slide-top-small" v-show="mail.recipients">
                                    <label class="uk-form-label" for="mail-body">Message</label>
                                    <textarea class="uk-textarea" rows="5" name="mail-body" v-model="mail.body" placeholder="(optional)"></textarea>
                                    <p class="uk-text-small uk-margin-small-top">The email will contain the link, password and expiration-date</p>
                                </div>
                                <button class="uk-button uk-button-small uk-button-default uk-modal-close">Cancel</button>
                                <button class="uk-button uk-button-small uk-button-primary uk-align-right uk-modal-close" @click="addLink"><span v-if="!mail.recipients">Save</span><span v-else="v-else">Save and Send</span></button>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </script>
            <script type="text/x-template" id="modal-edit">
                <div id="edit-modal" uk-modal="uk-modal">
                    <div class="uk-modal-dialog">
                        <div class="uk-modal-header">
                            <h3 class="uk-h3">Edit link</h3>
                        </div>
                        <div class="uk-modal-body">
                            <fieldset class="uk-fieldset">
                                <div class="uk-form-controls">
                                    <label>
                                        <!--input.uk-checkbox(type="checkbox", v-model="link.rw")-->&nbsp;&nbsp;Allow uploads
                                    </label>
                                </div>
                                <div class="uk-margin">
                                    <label class="uk-form-label" for="password">Password</label>
                                    <div class="uk-inline uk-width-1-1"><span class="uk-form-icon uk-form-icon-flip" uk-icon="icon: lock"></span>
                                        <!--input.uk-input(v-model.lazy="password", type="password", placeholder="(optional)")-->
                                    </div>
                                </div>
                                <div class="uk-margin">
                                    <label class="uk-form-label" for="expiration">Expiration date<em>*</em></label>
                                    <div class="uk-inline uk-inline uk-width-1-1"><span class="uk-form-icon uk-form-icon-flip" uk-icon="icon: calendar"></span>
                                        <!--input.uk-input(v-model.lazy="expires", type="date", placeholder="dd.mm.yyyy", required)-->
                                    </div>
                                </div>
                                <!--.uk-margin(v-if="!password")
                                label.uk-form-label(for="mail-recipients")
                                    | Send to
                                
                                .uk-inline.uk-inline.uk-width-1-1
                                    span.uk-form-icon.uk-form-icon-flip(uk-icon="icon: mail")
                                    //input.uk-input(type="mail" name="mail-recipients" v-model="mail.recipients", placeholder="max@mustermann.de", required)
                                
                                p.uk-text-small.uk-margin-small-top Use space to separate multiple mail-addresses.
                                
                                -->
                                <!--.uk-margin(v-show="mail.recipients").uk-animation-slide-top-small
                                label.uk-form-label(for="mail-body") Message
                                textarea.uk-textarea(rows="5" name="mail-body" v-model="mail.body" placeholder="(optional)")
                                p.uk-text-small.uk-margin-small-top The email will contain the link, password and expiration-date
                                
                                -->
                                <button class="uk-button uk-button-small uk-button-default uk-modal-close">Cancel</button>
                                <!--button.uk-button.uk-button-small.uk-button-primary.uk-align-right.uk-modal-close(@click="addLink")
                                //span(v-if="!mail.recipients") Save
                                span(v-else) Save and Send
                                
                                -->
                            </fieldset>
                        </div>
                    </div>
                </div>
            </script>
            <script type="text/x-template" id="link">
                <div>
                    <div class="uk-card uk-card-default uk-card-small uk-animation-slide-left-medium uk-margin-small-bottom">
                        <div class="uk-card-header">
                            <div class="uk-grid-small uk-flex-middle" uk-grid="uk-grid">
                                <div class="uk-width-auto"><span class="uk-icon-button" uk-icon="icon: link"></span></div>
                                <div class="uk-width-expand" title="Copy link to clipboard" uk-tooltip="uk-tooltip" style="cursor:pointer;">
                                    <h3 class="uk-card-title uk-margin-remove-bottom">{{ link.hash }}</h3>
                                    <p class="uk-text-meta uk-margin-remove-top">{{ linkUrl }}</p>
                                </div>
                                <div class="uk-width-auto">
                                    <ul class="uk-iconnav">
                                        <li><a uk-icon="icon: social" title="Share" uk-tooltip="uk-tooltip" type="button"></a></li>
                                        <li><a uk-icon="icon: cog" title="Settings" uk-tooltip="uk-tooltip" @click="edit"></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="uk-card-body">
                            <p class="uk-text-meta"><span v-for="event in link.history">&bull; {{ event }}<br></span></p>
                        </div>
                    </div>
                </div>
            </script>
        </main>
        <script src="//localhost:35729/livereload.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
        <script src="../lib/uikit/js/uikit.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.10/vue.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
        <script src="../assets/js/script.js"></script>
    </body>
</html>